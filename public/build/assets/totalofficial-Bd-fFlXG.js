import{r as V,o as c,c as f,w as t,g as s,a as e,d as i,t as d,i as h,e as b,f as w,F as y,u as _,b as I,Q as N,h as q,O as k,Z as x}from"./app-CD2aFJMz.js";import{_ as O,a as Q,b as r,c as v,Q as C}from"./MainLayout-BhDzJCbe.js";import{Q as $}from"./QSpace-BqO1vlbS.js";import{Q as D}from"./QChip-BKFdpbUD.js";import{Q as F}from"./QLayout-BZLnjnEC.js";import{u as A}from"./use-quasar-B6weMyZ6.js";import{u as E}from"./utils-f6ewzwJT.js";import{_ as K}from"./KaiCalendar-BolKCiKJ.js";import"./selection-BtuRkBgR.js";import"./FooterComponent-yubzXBYP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./date-BNbFJ6l6.js";import"./QDate-DQAHrZCw.js";import"./use-cache-hsIl6Ivw.js";const P={class:"row q-col-gutter-sm"},U={class:"col-xs-12 col-sm-4"},Y={class:"column q-pa-sm bg-white"},Z={class:"text-center"},G={class:"text-weight-medium text-dark"},H={class:"text-weight-medium text-grey-7 q-ma-none"},J={class:"col-xs-12 col-sm-8 row q-col-gutter-sm"},M={class:"bg-primary q-pa-sm shadow-default text-white card"},R={class:"flex justify-between items-center"},W={class:"text-xl text-bold"},X=s("div",{class:"text-md text-grey-2"},"No of officials",-1),ee={class:"bg-positive q-pa-sm shadow-default text-white card"},se={class:"flex justify-between items-center"},te={class:"text-xl text-bold"},ae=s("div",{class:"text-md text-grey-2"},"Present on Today's",-1),oe={class:"bg-negative q-pa-sm shadow-default text-white card"},le={class:"flex justify-between items-center"},ne={class:"text-xl text-bold"},ie=s("div",{class:"text-md text-grey-2"},"Absent on Today's",-1),de={class:"bg-blue q-pa-sm shadow-default text-white card"},ce={class:"flex justify-between items-center"},re=s("div",{class:"text-xl text-bold"},"E-Leave",-1),ue=s("div",{class:"text-md text-grey-2"},"Leave on Today's",-1),_e={class:"col-xs-12"},me={class:"q-pa-sm row"},fe=s("div",{class:"text-lg text-bold text-dark"},"Total officials",-1),he={class:"flex items-center q-gutter-sm"},xe={class:"q-ml-sm"},ve={class:"q-pa-sm"},ge={class:"flex q-gutter-sm"},Ie=Object.assign({layout:O},{__name:"totalofficial",props:["user","devices","attendances","current_sessions","total_users","absent_users","noOfLeave","users","count_attendances","search"],setup(o){const m=o,g=A(),{formatSignoutTime:pe,formatDateTime:j}=E(),z=l=>{g.dialog({title:"Confirmation",message:"Do you want to sign out this session?",ok:"Yes",cancel:"No"}).onOk(()=>{k.delete(route("attendance.signout",l.id),{onStart:n=>g.loading.show(),onFinish:n=>g.loading.hide()})})},S=async l=>{if(l){const n=await k.get(l,{},{preserveState:!0});m.users=n.props.users}},p=V({search:m==null?void 0:m.search,tab:route().current(),selected:null}),L=l=>{k.get(route("dashboard.totalofficial"),{search:p.search})};return(l,n)=>(c(),f(F,{class:"container",padding:""},{default:t(()=>{var T,B;return[s("div",P,[s("div",U,[s("div",Y,[s("div",Z,[e(i,{size:"32px",name:"o_account_circle"}),s("div",G,d((T=o.user)==null?void 0:T.full_name),1),s("div",H,d((B=o.user)==null?void 0:B.designation),1)]),e(C,{class:"q-pa-none",separator:""},{default:t(()=>[e(Q,null,{default:t(()=>[e(r,null,{default:t(()=>[e(v,{class:"text-dark text-lg"},{default:t(()=>[h("Active Sessions")]),_:1})]),_:1})]),_:1}),(c(!0),b(y,null,w(o.current_sessions,a=>(c(),f(Q,{key:a.id,class:"q-pl-none"},{default:t(()=>[e(r,{avatar:""},{default:t(()=>[e(i,{name:"error_outline",color:"warning"})]),_:1}),e(r,null,{default:t(()=>[e(v,null,{default:t(()=>[h(d(_(j)(a==null?void 0:a.signin_at)),1)]),_:2},1024)]),_:2},1024),e(r,{side:""},{default:t(()=>[e(v,{style:{"font-style":"italic","font-size":"13px"}},{default:t(()=>[h("Sign out")]),_:1}),e(q,{onClick:u=>z(a),round:"",icon:"logout"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(K,{class:"full-width"})]),s("div",J,[e(_(x),{href:l.route("dashboard.totalofficial"),class:"col-xs-12 col-sm-3 custom-link"},{default:t(()=>[s("div",M,[s("div",R,[s("div",W,d(o.total_users),1),e(i,{size:"24px",name:"people_outline"})]),X])]),_:1},8,["href"]),e(_(x),{href:l.route("dashboard.present"),class:"col-xs-12 col-sm-3 custom-link"},{default:t(()=>[s("div",ee,[s("div",se,[s("div",te,d(o.count_attendances),1),e(i,{size:"24px",name:"o_group_add"})]),ae])]),_:1},8,["href"]),e(_(x),{href:l.route("dashboard.absent"),class:"col-xs-12 col-sm-3 custom-link"},{default:t(()=>[s("div",oe,[s("div",le,[s("div",ne,d(o.total_users-o.count_attendances),1),e(i,{size:"24px",name:"o_group_remove"})]),ie])]),_:1},8,["href"]),e(_(x),{href:l.route("dashboard.leave"),class:"col-xs-12 col-sm-3 custom-link"},{default:t(()=>[s("div",de,[s("div",ce,[re,e(i,{size:"24px",name:"event_busy"})]),ue])]),_:1},8,["href"]),s("div",_e,[s("div",me,[fe,e($),e(N,{modelValue:p.search,"onUpdate:modelValue":n[0]||(n[0]=a=>p.search=a),autofocus:"",outlined:"",dense:"",onKeyup:I(L,["enter"]),"bg-color":"white",placeholder:"Type name...."},{append:t(()=>[e(i,{name:"o_search"})]),_:1},8,["modelValue"])]),e(C,null,{default:t(()=>[(c(!0),b(y,null,w(o.users.data,a=>(c(),f(Q,{class:"flex justify-between items-center shadow-default q-mt-sm bg-white q-pa-sm",key:a},{default:t(()=>[e(r,null,{default:t(()=>[s("div",he,[e(i,{class:"q-pa-sm",name:"fiber_manual_record",color:"primary"}),s("div",xe,[e(v,null,{default:t(()=>[h(d(a==null?void 0:a.full_name),1)]),_:2},1024),s("div",null,[(c(!0),b(y,null,w(a.offices,u=>(c(),f(D,{class:"text-caption q-ml-none q-mt-none",square:"",key:u.id,label:u==null?void 0:u.name},null,8,["label"]))),128))])])])]),_:2},1024),e(r,{side:""},{default:t(()=>[s("div",ve,d(a==null?void 0:a.designation),1)]),_:2},1024)]),_:2},1024))),128)),s("div",ge,[e(q,{color:"primary",onClick:n[1]||(n[1]=a=>S(o.users.prev_page_url)),disable:!o.users.prev_page_url,round:"",flat:"",icon:"o_chevron_left"},null,8,["disable"]),e(q,{color:"primary",onClick:n[2]||(n[2]=a=>S(o.users.next_page_url)),disable:!o.users.next_page_url,round:"",flat:"",icon:"o_chevron_right"},null,8,["disable"])])]),_:1})])])])]}),_:1}))}});export{Ie as default};
