import{Q as v}from"./QTab-jtlECmSj.js";import{Q as B}from"./QSpace-BqO1vlbS.js";import{r as E,o as s,c as u,w as a,a as t,Q as O,b as I,d as F,e as w,f as x,F as C,g as o,h as j,O as b,i as f,t as k,m,n as S,p as V}from"./app-CD2aFJMz.js";import{Q as T}from"./QTabs-DripzImO.js";import{_ as K,Q as q,a as y,b as _,c as Q,d as P}from"./MainLayout-BhDzJCbe.js";import{Q as h}from"./QChip-BKFdpbUD.js";import{Q as U}from"./QLayout-BZLnjnEC.js";import{C as L}from"./ClosePopup-BBeWmOkr.js";import{u as Y}from"./use-quasar-B6weMyZ6.js";import"./rtl-DFPa-2ov.js";import"./selection-BtuRkBgR.js";import"./FooterComponent-yubzXBYP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M=o("div",{class:"flex justify-between"},[o("div",null,[o("div",{class:"text-title"},"Appeal"),o("div",{class:"text-caption text-grey-7"},"List of Appeal Attendance.")]),o("div")],-1),z=o("br",null,null,-1),G={class:"flex q-gutter-sm"},H={class:"flex q-gutter-sm"},de=Object.assign({layout:K},{__name:"LeftEarlyList",props:["list","search"],setup(d){const g=d,i=Y(),p=E({search:g==null?void 0:g.search,tab:route().current(),selected:null}),R=n=>{i.dialog({title:"Confirmation",message:"Do you want to approved?",ok:"Yes",cancel:"No"}).onOk(()=>{b.post(route("appeal.approveleft2",n.id),{},{onStart:l=>i.loading.show(),onFinish:l=>i.loading.hide()})})},A=n=>{i.dialog({title:"Confirmation",message:"Do you want to rejected?",ok:"Yes",cancel:"No"}).onOk(()=>{b.post(route("appeal.rejectleft2",n.id),{},{onStart:l=>i.loading.show(),onFinish:l=>i.loading.hide()})})},D=n=>{b.get(route("appeal.left_early"),{search:p.search})},N=n=>{b.get(route(n))};return(n,l)=>(s(),u(U,{class:"container",padding:""},{default:a(()=>[M,t(T,{class:"q-mt-sm",stretch:"",shrink:"",modelValue:p.tab,"onUpdate:modelValue":[l[1]||(l[1]=c=>p.tab=c),N],align:"start"},{default:a(()=>[t(v,{name:"appeal.late_reason",label:"Late-Reason"}),t(v,{name:"appeal.left_early",label:"Left-Early"}),t(v,{name:"appeal.on_duty",label:"On-Duty"}),t(B),t(O,{modelValue:p.search,"onUpdate:modelValue":l[0]||(l[0]=c=>p.search=c),autofocus:"",outlined:"",dense:"",onKeyup:I(D,["enter"]),"bg-color":"white",placeholder:"Enter fullname"},{append:a(()=>[t(F,{name:"o_search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),z,t(q,{separator:"",class:"bg-white shadow-default"},{default:a(()=>{var c;return[(s(!0),w(C,null,x((c=d.list)==null?void 0:c.data,(e,$)=>(s(),u(y,{key:$},{default:a(()=>[t(_,null,{default:a(()=>[t(Q,null,{default:a(()=>{var r;return[f(k((r=e==null?void 0:e.user)==null?void 0:r.full_name),1)]}),_:2},1024),o("div",null,[(s(!0),w(C,null,x(e.user.offices,r=>(s(),u(h,{class:"text-caption q-ml-none q-mt-none",square:"",label:r==null?void 0:r.name},null,8,["label"]))),256))])]),_:2},1024),t(_,null,{default:a(()=>[f("Reason: "+k(e==null?void 0:e.reason),1)]),_:2},1024),t(h,null,{default:a(()=>[f("Date: "+k(e==null?void 0:e.start_date),1)]),_:2},1024),t(_,{side:""},{default:a(()=>[o("div",G,[o("div",null,[e.status==="Approved"?(s(),u(h,{key:0,"text-color":"white",color:"positive",label:"Approved"})):m("",!0),e.status==="Rejected"?(s(),u(h,{key:1,"text-color":"white",color:"negative",label:"Rejected"})):m("",!0),e.status==="Submitted"?(s(),u(h,{key:2,"text-color":"white",color:"blue",label:"Submitted"})):m("",!0)])])]),_:2},1024),t(P,{class:"q-pa-xs","dropdown-icon":"more_vert",right:""},{default:a(()=>[t(q,null,{default:a(()=>[e.status==="Submitted"||e.status==="Rejected"?S((s(),u(y,{key:0,clickable:"",onClick:V(r=>R(e,"approve"),["stop"])},{default:a(()=>[t(_,{side:""},{default:a(()=>[t(Q,null,{default:a(()=>[f("Approve")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[L]]):m("",!0),e.status==="Submitted"||e.status==="Rejected"?S((s(),u(y,{key:1,clickable:"",onClick:V(r=>A(e,"reject"),["stop"])},{default:a(()=>[t(_,{side:""},{default:a(()=>[t(Q,null,{default:a(()=>[f("Reject")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[L]]):m("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),o("div",H,[t(j,{disable:!d.list.prev_page_url,onClick:l[2]||(l[2]=e=>n.$inertia.get(d.list.prev_page_url)),flat:"",round:"",icon:"o_chevron_left"},null,8,["disable"]),t(j,{disable:!d.list.next_page_url,onClick:l[3]||(l[3]=e=>n.$inertia.get(d.list.next_page_url)),flat:"",round:"",icon:"o_chevron_right"},null,8,["disable"])])]}),_:1})]),_:1}))}});export{de as default};
