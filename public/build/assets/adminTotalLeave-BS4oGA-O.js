import{r as q,L,x as k,o as f,c as g,w as o,a as e,i as r,e as T,F as j,f as z,X as Q,t as i,A as b,B as A,g as s,n as B,Y as C,d as u,u as h,Z as m}from"./app-CD2aFJMz.js";import{Q as O}from"./QLayout-BZLnjnEC.js";import{a as y,b as x,c as v,Q as $,_ as I}from"./MainLayout-BhDzJCbe.js";import{_ as N,O as S,a as V,b as D}from"./OfficeChart2-BZ9SKEKv.js";import{u as F}from"./use-quasar-B6weMyZ6.js";import"./selection-BtuRkBgR.js";import"./FooterComponent-yubzXBYP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-HKW8iyyD.js";const M={__name:"LeaveList",setup(d){F();const n=q({list:[]});return L(()=>{k.get(route("statistic.leave")).then(a=>{const{list:_}=a.data,t=Array.from(new Map(_.map(c=>[c.user.id,c])).values());n.list=t}).catch(a=>{console.log(a)})}),(a,_)=>(f(),g($,{class:"full-height"},{default:o(()=>[e(y,{dense:""},{default:o(()=>[e(x,null,{default:o(()=>[e(v,{class:"text-weight-medium"},{default:o(()=>[r("Total Leave for today")]),_:1})]),_:1})]),_:1}),(f(!0),T(j,null,z(n.list,(t,c)=>(f(),g(y,{key:c},{default:o(()=>[e(x,{avatar:""},{default:o(()=>[e(Q,{"text-color":"white",size:"md",color:"blue"},{default:o(()=>{var l;return[r(i((l=t==null?void 0:t.user)==null?void 0:l.full_name[0].toUpperCase()),1)]}),_:2},1024)]),_:2},1024),e(x,null,{default:o(()=>[e(v,null,{default:o(()=>{var l;return[r(i((l=t==null?void 0:t.user)==null?void 0:l.full_name)+" ("+i(t==null?void 0:t.leaveType)+")",1)]}),_:2},1024),e(v,{caption:""},{default:o(()=>{var l;return[r(i((l=t==null?void 0:t.office)==null?void 0:l.name),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))}},P={class:"row q-col-gutter-sm"},R={class:"col-xs-12 col-sm-2"},U={class:"column full-height justify-between text-center q-pa-sm bg-white shadow-default"},E={class:"column items-center justify-center"},X={class:"text-weight-medium text-dark text-lg"},Y={class:"text-weight-medium text-grey-7 q-ma-none"},Z={class:"text-weight-medium text-grey-7 q-ma-none"},G={class:"text-weight-medium text-grey-7 q-ma-none"},H={class:"text-weight-medium text-grey-7 q-ma-none"},J={class:"col-xs-12 col-sm-10"},K={class:"row q-col-gutter-md"},W={class:"bg-primary q-pa-sm shadow-default text-white card"},ss={class:"flex justify-between items-center"},ts={class:"text-xl text-bold"},es=s("div",{class:"text-md text-grey-2"},"Total Registered Office",-1),os={class:"bg-secondary q-pa-sm shadow-default text-white card"},as={class:"flex justify-between items-center"},is={class:"text-xl text-bold"},ls=s("div",{class:"text-md text-grey-2"},"Total Registered Users",-1),cs={class:"bg-warning q-pa-sm shadow-default text-white card"},ds={class:"flex justify-between items-center"},ns={class:"text-xl text-bold"},_s=s("div",{class:"text-md"},"Total Attendance for this week",-1),rs={class:"bg-blue q-pa-sm shadow-default text-white card"},us={class:"flex justify-between items-center"},hs={class:"text-xl text-bold"},ms=s("div",{class:"text-md"},"Total Leave for Today",-1),fs={class:"col-xs-12 col-sm-6"},xs={class:"bg-white q-pa-sm shadow-default"},vs={class:"flex justify-between items-center"},gs={class:"col-xs-12 col-sm-6"},ws={style:{height:"100%"},class:"bg-white q-pa-sm shadow-default"},ps=s("br",null,null,-1),bs={class:"col q-row-gutter-sm"},ys={class:"col-xs-12 col-sm-6"},qs={class:"q-pa-sm bg-white full-height shadow-default"},Ls=s("br",null,null,-1),Qs={class:"col-xs-12 col-sm-6"},ks={class:"q-pa-sm bg-white full-height shadow-default"},Ts=s("br",null,null,-1),js={class:"row-xs-12 row-sm-6"},zs={class:"q-pa-sm bg-white shadow-default"},Ds=Object.assign({layout:I},{__name:"adminTotalLeave",props:["count_user","count_office","count_attendance","count_leave"],setup(d){const n=d,a=q({lat:"",lng:""});b(()=>n.count_user-(n.count_present+n.count_late));const _=b(()=>{var t,c;return(c=(t=A().props)==null?void 0:t.auth)==null?void 0:c.user});return L(()=>{navigator.geolocation.getCurrentPosition(function(t){a.lat=t.coords.latitude,a.lng=t.coords.longitude})}),(t,c)=>(f(),g(O,{class:"container",padding:""},{default:o(()=>{var l,w,p;return[s("div",P,[B(s("div",R,[s("div",U,[s("div",E,[e(Q,{color:"warning"},{default:o(()=>[r("A")]),_:1}),s("div",X,i((l=_.value)==null?void 0:l.full_name),1),s("div",Y,i((w=_.value)==null?void 0:w.designation),1),s("div",Z,i((p=_.value)==null?void 0:p.mobile),1),s("div",G,i(a==null?void 0:a.lat),1),s("div",H,i(a==null?void 0:a.lng),1)])])],512),[[C,t.$q.screen.gt.sm]]),s("div",J,[s("div",K,[e(h(m),{href:t.route("office.index2"),class:"col-xs-12 col-sm-3 custom-link"},{default:o(()=>[s("div",W,[s("div",ss,[s("div",ts,i(d.count_office),1),e(u,{size:"32px",name:"o_apartment"})]),es])]),_:1},8,["href"]),e(h(m),{href:t.route("user.active2"),class:"col-xs-12 col-sm-3 custom-link"},{default:o(()=>[s("div",os,[s("div",as,[s("div",is,i(d.count_user),1),e(u,{size:"32px",name:"o_group"})]),ls])]),_:1},8,["href"]),e(h(m),{href:t.route("dashboard.admin"),class:"col-xs-12 col-sm-3 custom-link"},{default:o(()=>[s("div",cs,[s("div",ds,[s("div",ns,i(d.count_attendance),1),e(u,{size:"32px",name:"event_busy"})]),_s])]),_:1},8,["href"]),e(h(m),{href:t.route("dashboard.adminTotalLeave"),class:"col-xs-12 col-sm-3 custom-link"},{default:o(()=>[s("div",rs,[s("div",us,[s("div",hs,i(d.count_leave),1),e(u,{size:"32px",name:"event_busy"})]),ms])]),_:1},8,["href"]),s("div",fs,[s("div",xs,[s("div",vs,[e(N)])])]),s("div",gs,[s("div",ws,[e(M)])])])])]),ps,s("div",bs,[s("div",ys,[s("div",qs,[e(S)])]),Ls,s("div",Qs,[s("div",ks,[e(V)])]),Ts,s("div",js,[s("div",zs,[e(D,{style:{"max-width":"500px","max-height":"300px"}})])])])]}),_:1}))}});export{Ds as default};
