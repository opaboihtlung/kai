import{Q as C}from"./QLayout-BZLnjnEC.js";import{j as v,r as k,L as x,x as w,o as d,e as S,c as u,u as y,m as B,y as D,z as I,g as o,w as O,a as W}from"./app-CD2aFJMz.js";import{C as L,b as $,L as q,B as E,c as N,p as U,a as V,d as j}from"./index-HKW8iyyD.js";/* empty css                                                                  */import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as P}from"./MainLayout-BhDzJCbe.js";import"./selection-BtuRkBgR.js";import"./FooterComponent-yubzXBYP.js";import"./use-quasar-B6weMyZ6.js";const Q=t=>(D("data-v-0a4c3ec3"),t=t(),I(),t),R={class:"q-pa-sm"},T=Q(()=>o("div",{class:"text-lg text-weight-medium"},"User-wise report(Current-Week)",-1)),z={__name:"UserChart",setup(t){L.register($,q,E,N,U,V);const s=v(!0),e=k({labels:[],datasets:[]}),_={responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0}}};return x(()=>{s.value=!0;const a=new Date,r=a.getDay(),l=new Date(a);l.setDate(a.getDate()-(r===0?6:r-1));const m=l.toISOString().split("T")[0],h=a.toISOString().split("T")[0];w.get(route("statistic.user"),{params:{from:m,to:h}}).then(c=>{const{users:g}=c.data,i={label:"Present",borderWidth:2,borderColor:"#369",backgroundColor:"#4dc4ad",borderRadius:16,data:[]},p={label:"Late",borderWidth:2,borderColor:"#369",backgroundColor:"#f68c43",borderRadius:16,data:[]};g.forEach(n=>{e.labels.push(n.full_name);let f=n.present_count||0,b=n.late_count||0;i.data.push(f),p.data.push(b)}),e.datasets.push(i),e.datasets.push(p),s.value=!1}).catch(c=>{console.error(c)})}),(a,r)=>(d(),S("div",R,[T,s.value?B("",!0):(d(),u(y(j),{key:0,data:e,options:_},null,8,["data"]))]))}},A=M(z,[["__scopeId","data-v-0a4c3ec3"]]),F={class:"col q-row-gutter-sm"},G={class:"col-xs-12 col-sm-6"},H={class:"q-pa-sm bg-white full-height shadow-default"},ot=Object.assign({layout:P},{__name:"ManagerChart",setup(t){return(s,e)=>(d(),u(C,{class:"container",padding:""},{default:O(()=>[o("div",F,[o("div",G,[o("div",H,[W(A)])])])]),_:1}))}});export{ot as default};
