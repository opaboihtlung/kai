import{Q as u}from"./QDate-DQAHrZCw.js";import{d as o}from"./date-BNbFJ6l6.js";import{r as f,L as D,o as p,c as Y}from"./app-CD2aFJMz.js";const h={__name:"KaiCalendar",setup(m){const s=f({events:[],holidays:["2024/01/01","2024/01/02","2024/01/11","2024/01/26","2024/02/20","2024/03/01","2024/03/25","2024/03/29","2024/04/11","2024/05/23","2024/06/15","2024/06/17","2024/07/06","2024/07/17","2024/08/15","2024/09/16","2024/10/02","2024/10/12","2024/10/31","2024/11/15","2024/12/24","2024/12/25","2024/12/26","2024/12/31"],attendances:[]}),i=e=>{const t=s.attendances.find(a=>o.formatDate(a==null?void 0:a.signin_at,"YYYY/MM/DD")===e),n=s.holidays.includes(e);return t?t.type==="present"?"positive":"warning":n?"red":!1},d=e=>{const{year:t,month:n}=e;c(t,n)},l=e=>{const t=o.extractDate(e,"YYYY/MM/DD");return t.getDay()===6||t.getDay()===0||s.holidays.includes(e)?!0:!(t.getTime()>Date.now())};D(()=>{c()});const c=(e,t)=>{axios.get(route("misc.attendances"),{params:{year:e,month:t}}).then(n=>{const{list:a}=n.data;s.attendances=a,s.events=a.map(r=>o.formatDate(r==null?void 0:r.signin_at,"YYYY/MM/DD"))}).catch(n=>console.log(n))};return(e,t)=>(p(),Y(u,{"event-color":i,events:l,minimal:"",onNavigation:d,class:"q-mt-sm",flat:""}))}};export{h as _};
