import{D as q,M as A,E as o,b2 as $,H as P,j as x,A as v,d as B,n as E,aq as Q,ag as D,ao as C,bT as T,bK as K,G as y,R as N,S as L,ai as H,W as j,U as F}from"./app-CD2aFJMz.js";import{u as R,a as W,b as U,c as V}from"./use-panel-D-rT1isN.js";import{u as z}from"./use-cache-hsIl6Ivw.js";const O=q({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:i,emit:g}){let s=!1,a,d,u=null,l=null,c,h;function p(){a&&a(),a=null,s=!1,u!==null&&(clearTimeout(u),u=null),l!==null&&(clearTimeout(l),l=null),d!==void 0&&d.removeEventListener("transitionend",c),c=null}function f(n,t,r){t!==void 0&&(n.style.height=`${t}px`),n.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,s=!0,a=r}function b(n,t){n.style.overflowY=null,n.style.height=null,n.style.transition=null,p(),t!==h&&g(t)}function _(n,t){let r=0;d=n,s===!0?(p(),r=n.offsetHeight===n.scrollHeight?0:void 0):(h="hide",n.style.overflowY="hidden"),f(n,r,t),u=setTimeout(()=>{u=null,n.style.height=`${n.scrollHeight}px`,c=m=>{l=null,(Object(m)!==m||m.target===n)&&b(n,"show")},n.addEventListener("transitionend",c),l=setTimeout(c,e.duration*1.1)},100)}function S(n,t){let r;d=n,s===!0?p():(h="show",n.style.overflowY="hidden",r=n.scrollHeight),f(n,r,t),u=setTimeout(()=>{u=null,n.style.height=0,c=m=>{l=null,(Object(m)!==m||m.target===n)&&b(n,"hide")},n.addEventListener("transitionend",c),l=setTimeout(c,e.duration*1.1)},100)}return A(()=>{s===!0&&p()}),()=>o($,{css:!1,appear:e.appear,onEnter:_,onLeave:S},i.default)}}),w=q({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:i}){const{proxy:{$q:g}}=P(),s=x(null),a=v(()=>e.stepper.modelValue===e.step.name),d=v(()=>{const t=e.step.disable;return t===!0||t===""}),u=v(()=>{const t=e.step.error;return t===!0||t===""}),l=v(()=>{const t=e.step.done;return d.value===!1&&(t===!0||t==="")}),c=v(()=>{const t=e.step.headerNav,r=t===!0||t===""||t===void 0;return d.value===!1&&e.stepper.headerNav&&r}),h=v(()=>e.step.prefix&&(a.value===!1||e.stepper.activeIcon==="none")&&(u.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),p=v(()=>{const t=e.step.icon||e.stepper.inactiveIcon;if(a.value===!0){const r=e.step.activeIcon||e.stepper.activeIcon;return r==="none"?t:r||g.iconSet.stepper.active}if(u.value===!0){const r=e.step.errorIcon||e.stepper.errorIcon;return r==="none"?t:r||g.iconSet.stepper.error}if(d.value===!1&&l.value===!0){const r=e.step.doneIcon||e.stepper.doneIcon;return r==="none"?t:r||g.iconSet.stepper.done}return t}),f=v(()=>{const t=u.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(a.value===!0){const r=e.step.activeColor||e.stepper.activeColor||e.step.color;return r!==void 0?r:t}return t!==void 0?t:d.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),b=v(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(f.value!==void 0?` text-${f.value}`:"")+(u.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(h.value===!0?"prefix":"icon"):"")+(a.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(c.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(d.value===!0?" q-stepper__tab--disabled":"")),_=v(()=>e.stepper.headerNav!==!0?!1:c.value);function S(){s.value!==null&&s.value.focus(),a.value===!1&&e.goToPanel(e.step.name)}function n(t){t.keyCode===13&&a.value===!1&&e.goToPanel(e.step.name)}return()=>{const t={class:b.value};c.value===!0&&(t.onClick=S,t.onKeyup=n,Object.assign(t,d.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:i.tabindex||0}));const r=[o("div",{class:"q-focus-helper",tabindex:-1,ref:s}),o("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[o("span",{class:"row flex-center"},[h.value===!0?e.step.prefix:o(B,{name:p.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const m=[o("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&m.push(o("div",{class:"q-stepper__caption"},e.step.caption)),r.push(o("div",{class:"q-stepper__label q-stepper__line relative-position"},m))}return E(o("div",t,r),[[Q,_.value]])}}});function k(e){return o("div",{class:"q-stepper__step-content"},[o("div",{class:"q-stepper__step-inner"},y(e.default))])}const I={setup(e,{slots:i}){return()=>k(i)}},Z=q({name:"QStep",props:{...R,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:i,emit:g}){const{proxy:{$q:s}}=P(),a=D(T,C);if(a===C)return console.error("QStep needs to be a child of QStepper"),C;const{getCacheWithFn:d}=z(),u=x(null),l=v(()=>a.value.modelValue===e.name),c=v(()=>s.platform.is.ios!==!0&&s.platform.is.chrome===!0||l.value!==!0||a.value.vertical!==!0?{}:{onScroll(f){const{target:b}=f;b.scrollTop>0&&(b.scrollTop=0),e.onScroll!==void 0&&g("scroll",f)}}),h=v(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function p(){const f=a.value.vertical;return f===!0&&a.value.keepAlive===!0?o(K,a.value.keepAliveProps.value,l.value===!0?[o(a.value.needsUniqueKeepAliveWrapper.value===!0?d(h.value,()=>({...I,name:h.value})):I,{key:h.value},i.default)]:void 0):f!==!0||l.value===!0?k(i):void 0}return()=>o("div",{ref:u,class:"q-stepper__step",role:"tabpanel",...c.value},a.value.vertical===!0?[o(w,{stepper:a.value,step:e,goToPanel:a.value.goToPanel}),a.value.animated===!0?o(O,p):p()]:[p()])}}),Y=/(-\w)/g;function M(e){const i={};for(const g in e){const s=g.replace(Y,a=>a[1].toUpperCase());i[s]=e[g]}return i}const ee=q({name:"QStepper",props:{...N,...W,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:U,setup(e,{slots:i}){const g=P(),s=L(e,g.proxy.$q),{updatePanelsList:a,isValidPanelName:d,updatePanelIndex:u,getPanelContent:l,getPanels:c,panelDirectives:h,goToPanel:p,keepAliveProps:f,needsUniqueKeepAliveWrapper:b}=V();H(T,v(()=>({goToPanel:p,keepAliveProps:f,needsUniqueKeepAliveWrapper:b,...e})));const _=v(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(s.value===!0?" q-stepper--dark q-dark":"")),S=v(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function n(){const t=y(i.message,[]);if(e.vertical===!0){d(e.modelValue)&&u();const r=o("div",{class:"q-stepper__content"},y(i.default));return t===void 0?[r]:t.concat(r)}return[o("div",{class:S.value},c().map(r=>{const m=M(r.props);return o(w,{key:m.name,stepper:e,step:m,goToPanel:p})})),t,F("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>h.value)]}return()=>(a(i),o("div",{class:_.value},j(i.navigation,n())))}});export{Z as Q,ee as a};
