import{Q as k}from"./QTab-jtlECmSj.js";import{Q as N}from"./QSpace-BqO1vlbS.js";import{r as O,o as v,c as x,w as s,a as e,Q as B,b as R,d as I,e as A,f as L,F as T,g as t,h as Q,v as U,k as E,t as r,n as D,C as F,O as b,i as f}from"./app-CD2aFJMz.js";import{Q as K}from"./QTabs-DripzImO.js";import{_ as P,Q as V,a as h,b as _,c as p,d as Y}from"./MainLayout-BhDzJCbe.js";import{Q as z}from"./QChip-BKFdpbUD.js";import{Q as M}from"./QLayout-BZLnjnEC.js";import{C as q}from"./ClosePopup-BBeWmOkr.js";import{u as G}from"./use-quasar-B6weMyZ6.js";import"./rtl-DFPa-2ov.js";import"./selection-BtuRkBgR.js";import"./FooterComponent-yubzXBYP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H=t("div",{class:"flex justify-between"},[t("div",null,[t("div",{class:"text-title"},"Office Change Request")])],-1),J=t("br",null,null,-1),W=t("br",null,null,-1),X={class:"flex justify-end items-end"},Z={class:"text-sm text-bold"},ee={class:"flex q-gutter-sm"},te=t("div",{class:"flex justify-between items-center"},[t("div",{class:"text-lg"},"Detail")],-1),se={class:"flex justify-between items-center"},ae=t("div",{class:"text-grey-7"},"Name",-1),le={class:"text-dark"},oe={class:"flex justify-between items-center"},ne=t("div",{class:"text-grey-7"},"Designation",-1),ie={class:"text-dark"},de={class:"flex justify-between items-center"},re=t("div",{class:"text-grey-7"},"Mobile",-1),ce={class:"text-dark"},ue={class:"flex justify-between items-center"},fe=t("div",{class:"text-grey-7"},"Requested Office",-1),_e={class:"text-dark"},pe={class:"flex justify-end q-mt-sm"},Ve=Object.assign({layout:P},{__name:"Submitted",props:["list","search"],setup(c){const y=G(),l=O({selected:null,openDetail:!1,tab:route().current()}),S=d=>{b.get(route("user.active"),{search:l.search})},$=d=>b.get(route(d)),g=(d,o)=>{switch(o){case"detail":l.selected=d,l.openDetail=!0;break;case"reject":y.dialog({title:"Confirmation",message:"Do you want to Reject this request",ok:"Yes",cancel:"No"}).onOk(()=>{b.put(route("posting.reject",d.id),{},{preserveState:!1})});break;case"approve":y.dialog({title:"Confirmation",message:"Do you want to Reject this request",ok:"Yes",cancel:"No"}).onOk(()=>{b.put(route("posting.approve",d.id),{},{preserveState:!1})});break}};return(d,o)=>(v(),x(M,{class:"container",padding:""},{default:s(()=>[H,J,e(K,{stretch:"",shrink:"",modelValue:l.tab,"onUpdate:modelValue":[o[1]||(o[1]=n=>l.tab=n),$],align:"start"},{default:s(()=>[e(k,{name:"posting.submitted",label:"Submitted"}),e(k,{name:"posting.rejected",label:"Rejected"}),e(k,{name:"posting.approved",label:"Approved"}),e(N),e(B,{modelValue:l.search,"onUpdate:modelValue":o[0]||(o[0]=n=>l.search=n),autofocus:"",outlined:"",dense:"",onKeyup:R(S,["enter"]),"bg-color":"white",placeholder:"Enter user name"},{append:s(()=>[e(I,{name:"o_search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),W,e(V,{separator:"",class:"bg-white shadow-default"},{default:s(()=>{var n;return[(v(!0),A(T,null,L((n=c.list)==null?void 0:n.data,(a,m)=>(v(),x(h,{key:m},{default:s(()=>[e(_,null,{default:s(()=>[e(p,null,{default:s(()=>{var i;return[f(r((i=a.user)==null?void 0:i.full_name),1)]}),_:2},1024),e(p,{caption:""},{default:s(()=>{var i;return[f(r((i=a.user)==null?void 0:i.mobile),1)]}),_:2},1024)]),_:2},1024),e(_,{side:""},{default:s(()=>{var i;return[t("div",X,[t("div",null,[t("div",Z,r((i=a==null?void 0:a.office)==null?void 0:i.name),1),e(z,{class:"float-right",size:"sm",label:a==null?void 0:a.status,square:""},null,8,["label"])]),e(Y,{"dropdown-icon":"more_vert",dense:""},{default:s(()=>[D((v(),x(V,null,{default:s(()=>[e(h,{clickable:"",onClick:u=>g(a,"detail"),dense:""},{default:s(()=>[e(_,null,{default:s(()=>[e(p,null,{default:s(()=>[f("Detail")]),_:1})]),_:1})]),_:2},1032,["onClick"]),e(h,{clickable:"",onClick:u=>g(a,"reject"),dense:""},{default:s(()=>[e(_,null,{default:s(()=>[e(p,null,{default:s(()=>[f("Reject")]),_:1})]),_:1})]),_:2},1032,["onClick"]),e(h,{clickable:"",onClick:u=>g(a,"approve"),dense:""},{default:s(()=>[e(_,null,{default:s(()=>[e(p,null,{default:s(()=>[f("Approved")]),_:1})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)),[[q]])]),_:2},1024)])]}),_:2},1024)]),_:2},1024))),128)),t("div",ee,[e(Q,{disable:!c.list.prev_page_url,onClick:o[2]||(o[2]=a=>d.$inertia.get(c.list.prev_page_url)),flat:"",round:"",icon:"o_chevron_left"},null,8,["disable"]),e(Q,{disable:!c.list.next_page_url,onClick:o[3]||(o[3]=a=>d.$inertia.get(c.list.next_page_url)),flat:"",round:"",icon:"o_chevron_right"},null,8,["disable"])])]}),_:1}),e(F,{modelValue:l.openDetail,"onUpdate:modelValue":o[4]||(o[4]=n=>l.openDetail=n)},{default:s(()=>[e(U,{class:"q-pa-md"},{default:s(()=>{var n,a,m,i,u,w,C,j;return[te,e(E,{class:"q-my-sm"}),t("div",se,[ae,t("div",le,r((a=(n=l.selected)==null?void 0:n.user)==null?void 0:a.full_name),1)]),t("div",oe,[ne,t("div",ie,r((i=(m=l.selected)==null?void 0:m.user)==null?void 0:i.designation),1)]),t("div",de,[re,t("div",ce,r((w=(u=l.selected)==null?void 0:u.user)==null?void 0:w.mobile),1)]),t("div",ue,[fe,t("div",_e,r((j=(C=l.selected)==null?void 0:C.office)==null?void 0:j.name),1)]),t("div",pe,[D(e(Q,{flat:"",label:"Close"},null,512),[[q]])])]}),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Ve as default};
