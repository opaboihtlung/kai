import{r as R,A as Y,B as z,o as p,c as M,w as L,g as t,t as s,u as l,h as T,m as E,a,k as F,C as H,O as J}from"./app-CD2aFJMz.js";import{Q as K}from"./QLayout-BZLnjnEC.js";import{_ as W}from"./MainLayout-BhDzJCbe.js";import{u as X}from"./utils-f6ewzwJT.js";import{_ as Z}from"./Geolocation-DxeyX3jL.js";import{u as tt}from"./use-quasar-B6weMyZ6.js";import"./selection-BtuRkBgR.js";import"./FooterComponent-yubzXBYP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./date-BNbFJ6l6.js";import"./index.es-Dvo41eUP.js";const et={class:"flex justify-between"},st={class:"text-title"},it=t("br",null,null,-1),dt={class:"row q-col-gutter-sm"},at={class:"col-xs-12 col-sm-6"},ot={class:"bg-white q-pa-md shadow-default text-weight-medium text-lg"},nt=t("legend",{class:"q-ma-md q-px-sm bg-dark rounded-borders text-white"},"Attendance recorded time",-1),ct={class:"flex justify-between items-center text-md"},lt=t("div",{class:"text-grey-7"},"Sign in at",-1),mt={class:"text-dark text-weight-medium"},rt={class:"flex justify-between items-center text-md"},_t=t("div",{class:"text-grey-7"},"Sign out at",-1),ut={class:"text-dark text-weight-medium"},xt={class:"flex justify-between items-center text-md"},ht=t("div",{class:"text-grey-7"},"Office",-1),gt={class:"text-dark text-weight-medium"},ft={class:"flex justify-between items-center text-md"},vt=t("div",{class:"text-grey-7"},"District",-1),wt={class:"text-dark text-weight-medium"},yt={class:"flex justify-between items-center text-md"},bt=t("div",{class:"text-grey-7"},"Lat",-1),kt={class:"text-dark text-weight-medium"},jt={class:"flex justify-between items-center text-md"},qt=t("div",{class:"text-grey-7"},"Lng",-1),St={class:"text-dark text-weight-medium"},At={class:"flex justify-between items-center text-md"},Ct=t("div",{class:"text-grey-7"},"Radius in Meter",-1),Dt={class:"text-dark text-weight-medium"},Nt={class:"flex justify-between items-center text-md"},Qt=t("div",{class:"text-grey-7"},"Grace Period in Minute",-1),Vt={class:"text-dark text-weight-medium"},Ot={class:"flex justify-between items-center text-md"},Bt=t("div",{class:"text-grey-7"},"Starting Time",-1),pt={class:"text-dark text-weight-medium"},Mt={class:"flex justify-between items-center text-md"},Lt=t("div",{class:"text-grey-7"},"Closing Time",-1),Tt={class:"text-dark text-weight-medium"},Pt={class:"col-xs-12 col-sm-6"},Ut={class:"bg-white q-pa-md shadow-default text-weight-medium text-lg"},$t=t("legend",{class:"q-ma-md q-px-sm bg-dark rounded-borders text-white"},"Location",-1),Gt={class:"flex justify-between items-center text-md"},It=t("div",{class:"text-grey-7"},"Sign in (Coordinate)",-1),Rt={class:"text-dark text-weight-medium"},Yt={class:"flex justify-between items-center text-md"},zt=t("div",{class:"text-grey-7"},"Sign out (Coordinate)",-1),Et={class:"text-dark text-weight-medium"},Ft={class:"flex justify-end items-center q-mt-sm"},Ht={class:"bg-white q-pa-md shadow-default text-weight-medium text-lg"},Jt=t("legend",{class:"q-ma-md q-px-sm bg-dark rounded-borders text-white"},"Device",-1),Kt={class:"flex justify-between items-center text-md"},Wt=t("div",{class:"text-grey-7"},"Device Name",-1),Xt={class:"text-dark text-weight-medium"},Zt={class:"flex justify-between items-center text-md"},te=t("div",{class:"text-grey-7"},"UID",-1),ee={class:"text-dark text-weight-medium"},ue=Object.assign({layout:W},{__name:"Show",props:["data"],setup(e){const o=e,{formatDateTime:n}=X(),c=R({openAttendance:!1}),P=tt(),U=i=>{P.dialog({title:"Confirmation",message:"Do you want to sign out",ok:"Yes",cancel:"No"}).onOk(()=>{J.delete(route("attendance.signout",o.data.id),{preserveState:!1})})},$=Y(()=>{var i,d;return o.data.signout_at===null&&o.data.user_id===((d=(i=z().props.auth)==null?void 0:i.user)==null?void 0:d.id)}),G=i=>{c.openAttendance=!0};return(i,d)=>(p(),M(K,{padding:"",class:"container"},{default:L(()=>{var m,r,_,u,x,h,g,f,v,w,y,b,k,j,q,S,A,C,D,N,Q,V,O,B;return[t("div",et,[t("div",null,[t("div",st,"Attendance on "+s(l(n)(e.data.signin_at)),1)]),t("div",null,[$.value?(p(),M(T,{key:0,outline:"",color:"negative",label:"Signout",onClick:U})):E("",!0)])]),it,t("div",dt,[t("div",at,[t("fieldset",ot,[nt,t("div",ct,[lt,t("div",mt,s(l(n)((m=e.data)==null?void 0:m.signin_at)),1)]),t("div",rt,[_t,t("div",ut,s((r=e.data)!=null&&r.signout_at?l(n)((_=e.data)==null?void 0:_.signout_at):"NA"),1)]),a(F,{class:"q-my-sm"}),t("div",xt,[ht,t("div",gt,s((x=(u=e.data)==null?void 0:u.office)==null?void 0:x.name),1)]),t("div",ft,[vt,t("div",wt,s((f=(g=(h=e.data)==null?void 0:h.office)==null?void 0:g.district)==null?void 0:f.name),1)]),t("div",yt,[bt,t("div",kt,s((v=e.data)==null?void 0:v.lat),1)]),t("div",jt,[qt,t("div",St,s((w=e.data)==null?void 0:w.lng),1)]),t("div",At,[Ct,t("div",Dt,s((b=(y=e.data)==null?void 0:y.office)==null?void 0:b.radius),1)]),t("div",Nt,[Qt,t("div",Vt,s((j=(k=e.data)==null?void 0:k.office)==null?void 0:j.grace_period),1)]),t("div",Ot,[Bt,t("div",pt,s((S=(q=e.data)==null?void 0:q.office)==null?void 0:S.start_time),1)]),t("div",Mt,[Lt,t("div",Tt,s((C=(A=e.data)==null?void 0:A.office)==null?void 0:C.close_time),1)])])]),t("div",Pt,[t("div",null,[t("fieldset",Ut,[$t,t("div",Gt,[It,t("div",Rt,s(((D=e.data)==null?void 0:D.lat)+" "+((N=e.data)==null?void 0:N.lng)),1)]),t("div",Yt,[zt,t("div",Et,s(((Q=e.data)==null?void 0:Q.signout_lat)||"-- "+(((V=e.data)==null?void 0:V.signout_lng)||"NA")),1)]),t("div",Ft,[a(T,{onClick:G,color:"primary",outline:"",label:"View in Map","no-caps":""})])]),t("fieldset",Ht,[Jt,t("div",Kt,[Wt,t("div",Xt,s((O=e.data.device)==null?void 0:O.name),1)]),t("div",Zt,[te,t("div",ee,s((B=e.data.device)==null?void 0:B.uid),1)])])])])]),a(H,{modelValue:c.openAttendance,"onUpdate:modelValue":d[0]||(d[0]=I=>c.openAttendance=I)},{default:L(()=>[a(Z,{attendance:e.data},null,8,["attendance"])]),_:1},8,["modelValue"])]}),_:1}))}});export{ue as default};
